<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Comentar Compra</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card class="compra-card">
    <ion-card-content>
      <ion-list lines="none" *ngIf="avaliacao">
        <ion-item>
          <ion-label>
            <h1>{{ avaliacao.compra.produto}}</h1>
            <p style="font-weight: bold;">{{avaliacao.compra.municipio}}/{{avaliacao.compra.uf}}</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="calendar-outline" slot="start"></ion-icon>
          <ion-label>
            <h2>{{avaliacao.compra.ano}}</h2>
            <p>Ano</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="calculator-outline" slot="start"></ion-icon>
          <ion-label>
            <h2>{{avaliacao.compra.unidade_medida}}</h2>
            <p>Medida</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="pricetags-outline" slot="start"></ion-icon>
          <ion-label>
            <h2>{{ avaliacao.compra.valor_total }}</h2>
            <p>Valor Total</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="reorder-four-outline" slot="start"></ion-icon>
          <ion-label>
            <h2>{{ avaliacao.compra.quantidade }}</h2>
            <p>Quantidade</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="pricetag-outline" slot="start"></ion-icon>
          <ion-label>
            <h2>{{ avaliacao.compra.valor_unitario }}</h2>
            <p>Valor Unitário</p>
          </ion-label>
        </ion-item>
      </ion-list>

    </ion-card-content>
  </ion-card>


  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>O que outros usuários acham</ion-card-subtitle>
      <ion-card-title>Comentários</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <ion-list text-wrap>

        <ion-item *ngFor="let comentario of comentarios" text-wrap>
          <ion-avatar slot="start">
            <img src="../../assets/img/avatar-padrao.jpg" alt="Avatar Usuário Padrão">
          </ion-avatar>
          <ion-label>
            <p style="font-size: 16px;">{{ comentario.comentario }}</p>
          </ion-label>

        </ion-item>

        <ion-item *ngIf="!comentarios.length" text-wrap>
          <p>Nenhum comentário encontrado para essa compra</p>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-card>

    <ion-card-header>
      <ion-card-title>Adicionar comentário</ion-card-title>
    </ion-card-header>

    <ion-card-content>

      <form (ngSubmit)="adicionarComentario()">

        <ion-item>
          <ion-label position="stacked">Comentário<ion-text color="danger">*</ion-text>
          </ion-label>
          <ion-textarea [(ngModel)]="comentario" name="comentario" placeholder="Digite o seu comentário"></ion-textarea>

        </ion-item>

        <ion-button style="margin-top: 15px; margin-left: 15px;" color="primary" type="submit">Comentar</ion-button>

      </form>

    </ion-card-content>

  </ion-card>

</ion-content>
